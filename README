lhstat collects and outputs some properties of a running linux.

This is version 0.5.2, Thu Nov 06 01:59:42 GMT 2008

Writing this was a way to learn some Lisp basics for the first time,
and to solve the problem of monitoring some properties of my linux
laptops. I use it in the window manager Awesome v2.3.4, but, given its
text output, it shouldn't be too hard to reuse it in other window
managers, or textual environments. I've been using it on daily basis
for months on couple of different laptops (dual core and Pentium M). 

It is Inspired by Dobrica Pavlinusic's code dwm-status.pl
(http://svn.rot13.org/index.cgi/scripts/view/trunk/dwm-status.pl)
which performs the same thing, written in Perl.

Here's how the output looks like:

"55C (64) | 0.14 (0.19) | 14:21 Sun 2 Nov | ^210k D       | ^154k (wlan0) 567k  | 2h:27m (Dis) 99%"

It shows:

1. CPU temperature, average for multicore

   format: temp (max temp)

2. system load

   format: load (max load) 

3. time date

4. single storage device

   format: read kB D write kB

5. single network interface
   
   format: transmit kB (network interface name) receive kB

6. battery

   format: time left to end of status (battery status) percentage full

   example of time to full discharge:          2h:26m (Dis) 98%  
   example of calculating status:      Calibrating... (Ful) 97%
   example of time to full charge:             0h:39m (Cha) 90%

INSTALL and USE: 

if you check it out from git directly to /usr/local/sbin/ (or modify
/etc/init.d/lhstat file to reflect your location) and make sure your
system has clisp and detachtty (debian packages exists), you can now
start/stop/restart it daemonized, using the provided init script. Log
file will be at /var/log/lhstat.log. You can attach to the lhstat
process with attachtty. I develop and test on Debian unstable.

TODO: 

- debian package

- calculation of storage and network stats needs checking

- add debuging mode

- command line interface needs to be added so that parameters like
  storage device, network device, debuging mode, display mode of
  various components, sleep time, can be selected

- compile the code and run it compiled

- create a lisp package

- add licence

- add on screen warning for low battery status

Toni Prug, tony@irational.org

